<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Doggyco: Evolved HD</title>
    <style>
        :root { --neon: #00f2ff; --glass: rgba(0, 20, 10, 0.7); }
        * { margin:0; padding:0; box-sizing:border-box; touch-action:none; }
        body { background:#000; color: white; font-family: sans-serif; overflow: hidden; }
        #wrap {
            position:relative; height:100vh; max-width:500px; margin:auto;
            background-image: url('hintergrund.png');
            background-size: cover; background-position: center;
            border: 4px solid #333;
        }
        canvas { width: 100%; height: 100%; display: block; }
        .overlay {
            position:absolute; inset:0; background:rgba(0,0,0,0.8);
            display:flex; flex-direction:column; justify-content:center; align-items:center; z-index:100;
        }
        .btn {
            padding: 15px 40px; font-size: 20px; background: transparent; color: var(--neon);
            border: 2px solid var(--neon); cursor: pointer; text-transform: uppercase;
        }
    </style>
</head>
<body>
<div id="wrap">
    <canvas id="game"></canvas>
    <div class="overlay" id="startScreen">
        <h1 style="color:var(--neon); margin-bottom:20px;">DOGGYCO HD</h1>
        <button class="btn" onclick="initGame()">Start Engine</button>
    </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
let active = false;

// SOUND SYSTEM
let audioCtx;
function playSound(freq, type, duration, vol=0.1) {
    if (!audioCtx) return;
    if (audioCtx.state === 'suspended') audioCtx.resume();
    let osc = audioCtx.createOscillator();
    let gain = audioCtx.createGain();
    osc.type = type;
    osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
    gain.gain.setValueAtTime(vol, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
    osc.connect(gain); gain.connect(audioCtx.destination);
    osc.start(); osc.stop(audioCtx.currentTime + duration);
}

function initGame() {
    // Audio initialisieren bei Klick
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    document.getElementById("startScreen").style.display = "none";
    active = true;
    
    // Test-Sound beim Start
    playSound(440, 'sine', 0.5);
    
    // Hintergrund-Loop (leises Rauschen/Wald)
    setInterval(() => {
        if(active) playSound(100, 'sine', 1, 0.02);
    }, 1000);
    
    requestAnimationFrame(loop);
}

function loop() {
    if(!active) return;
    ctx.clearRect(0,0,canvas.width,canvas.height);
    // Hier kommt deine Spiel-Logik rein...
    requestAnimationFrame(loop);
}
</script>
</body>
</html>
