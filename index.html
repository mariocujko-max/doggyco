<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Doggyco 8.0 ‚Äì Neon Energy</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
:root{
--neon:#00f7ff;
--pink:#ff00c8;
--green:#00ff88;
--red:#ff2e63;
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
background:#000;
color:white;
font-family:sans-serif;
overflow:hidden;
}

h1{
text-align:center;
font-family:'Press Start 2P';
font-size:1rem;
color:var(--neon);
text-shadow:0 0 15px var(--neon);
margin:10px 0;
}

#gameWrapper{
position:relative;
width:100%;
max-width:420px;
height:82vh;
margin:auto;
border-radius:25px;
overflow:hidden;
border:3px solid var(--neon);
box-shadow:0 0 25px var(--neon);
}

canvas{width:100%;height:100%;display:block;}

#ui{
position:absolute;
top:8px;left:0;right:0;
display:flex;
justify-content:space-around;
font-family:'Press Start 2P';
font-size:0.7rem;
z-index:10;
text-shadow:0 0 10px white;
}

.overlay{
position:absolute;
inset:0;
background:rgba(0,0,0,0.9);
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
z-index:20;
}

button{
padding:20px 40px;
font-family:'Press Start 2P';
background:var(--green);
border:none;
border-radius:20px;
cursor:pointer;
margin-top:15px;
}

#leaderboard{
margin-top:10px;
font-family:'Press Start 2P';
font-size:0.6rem;
text-align:center;
}

</style>
</head>

<body>

<h1>DOGGYCO 8.0</h1>

<div id="gameWrapper">

<div id="ui">
<div>‚≠ê <span id="score">0</span></div>
<div>‚ù§Ô∏è <span id="hearts">3</span></div>
<div>LVL <span id="level">1</span></div>
</div>

<canvas id="game"></canvas>

<div class="overlay" id="start">
<button onclick="startGame()">START</button>
</div>

<div class="overlay" id="gameOver" style="display:none;">
<h2 style="color:var(--red);font-family:'Press Start 2P'">GAME OVER</h2>
<div id="leaderboard"></div>
<button onclick="location.reload()">RETRY</button>
</div>

</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

let state="start";
let score=0,level=1,hearts=3;
let sectors=5,sectorWidth;
let dogSector=2,dogX=0,dogTargetX=0;
let items=[],spiders=[],particles=[];
let audioCtx,melodyInterval;

/* Resize */
function resize(){
const rect=canvas.getBoundingClientRect();
canvas.width=rect.width;
canvas.height=rect.height;
sectorWidth=canvas.width/sectors;
dogX=sectorWidth*dogSector+sectorWidth/2;
}
window.addEventListener("resize",resize);

/* Retro Melody */
const melody=[220,262,330,392,330,262];
function startMelody(){
let i=0;
melodyInterval=setInterval(()=>{
let o=audioCtx.createOscillator();
let g=audioCtx.createGain();
o.type="square";
o.frequency.value=melody[i%melody.length];
g.gain.value=0.03;
o.connect(g); g.connect(audioCtx.destination);
o.start(); o.stop(audioCtx.currentTime+0.2);
i++;
},300);
}

/* Particle Explosion */
function explode(x,y,color){
for(let i=0;i<15;i++){
particles.push({
x:x,y:y,
vx:(Math.random()-0.5)*4,
vy:(Math.random()-0.5)*4,
life:30,
color:color
});
}
}

/* Start */
function startGame(){
audioCtx=new (window.AudioContext||window.webkitAudioContext)();
resize();
initSpiders();
startMelody();
state="play";
document.getElementById("start").style.display="none";
loop();
}

/* Controls */
canvas.addEventListener("touchstart",e=>{
let rect=canvas.getBoundingClientRect();
let x=e.touches[0].clientX-rect.left;
dogSector=Math.floor(x/sectorWidth);
});
canvas.addEventListener("mousedown",e=>{
dogSector=Math.floor(e.offsetX/sectorWidth);
});

/* Spiders */
function initSpiders(){
for(let i=0;i<2;i++){
spiders.push({x:Math.random()*0.8+0.1,t:Math.random()*3});
}
}

/* Spawn */
function spawn(){
let sector=Math.floor(Math.random()*sectors);
let r=Math.random();
let it={sector:sector,y:-30};
if(r<0.12){it.bad=true;it.type="üëÆ";}
else if(r<0.4){it.val=3;it.type="üçó";}
else if(r<0.7){it.val=2;it.type="üç™";}
else{it.val=1;it.type="ü¶¥";}
items.push(it);
}

/* Leaderboard */
function updateLeaderboard(){
let board=JSON.parse(localStorage.getItem("doggyBoard")||"[]");
board.push(score);
board.sort((a,b)=>b-a);
board=board.slice(0,5);
localStorage.setItem("doggyBoard",JSON.stringify(board));
let html="<br>TOP 5<br>";
board.forEach((s,i)=>html+=(i+1)+". "+s+"<br>");
document.getElementById("leaderboard").innerHTML=html;
}

/* Loop */
function loop(){
if(state!=="play")return;

const W=canvas.width,H=canvas.height,ground=H-80;
ctx.clearRect(0,0,W,H);

/* Neon background */
let grad=ctx.createLinearGradient(0,0,0,H);
grad.addColorStop(0,"#000428");
grad.addColorStop(1,"#004e92");
ctx.fillStyle=grad;
ctx.fillRect(0,0,W,H);

/* Parallax Clouds */
ctx.fillStyle="rgba(255,255,255,0.2)";
ctx.beginPath();
ctx.arc((Date.now()*0.02)%W,100,30,0,7);
ctx.fill();
ctx.beginPath();
ctx.arc((Date.now()*0.01)%W,150,40,0,7);
ctx.fill();

/* Neon Sector Lines */
ctx.strokeStyle="rgba(0,255,255,0.4)";
for(let i=1;i<sectors;i++){
ctx.beginPath();
ctx.moveTo(i*sectorWidth,0);
ctx.lineTo(i*sectorWidth,H);
ctx.stroke();
}

/* Spawn */
if(Math.random()<0.035+level*0.005)spawn();

/* Items */
items.forEach((it,i)=>{
it.y+=2+level*0.5;
let x=it.sector*sectorWidth+sectorWidth/2;
ctx.font="40px Arial";
ctx.fillText(it.type,x-20,it.y);

if(it.y>ground-30 && it.sector===dogSector){
if(it.bad){
hearts--;
explode(x,it.y,"red");
}else{
let pts=it.val*level;
score+=pts;
explode(x,it.y,"#00ff88");
}
items.splice(i,1);
}
});

/* Spiders */
spiders.forEach(s=>{
s.t+=0.02+level*0.002;
let sx=s.x*W;
let sy=(Math.sin(s.t)+1)/2*ground;
ctx.strokeStyle="white";
ctx.beginPath();
ctx.moveTo(sx,0);
ctx.lineTo(sx,sy);
ctx.stroke();
ctx.fillText("üï∑Ô∏è",sx-15,sy+10);
if(Math.abs(sx-dogX)<40 && Math.abs(sy-ground)<40){
hearts--;
explode(sx,sy,"red");
s.x=Math.random()*0.8+0.1;
}
});

/* Dog smooth */
dogTargetX=dogSector*sectorWidth+sectorWidth/2;
dogX+= (dogTargetX-dogX)*0.15;
ctx.font="70px Arial";
ctx.fillText("üê∂",dogX-35,ground);

/* Particles */
particles.forEach((p,i)=>{
p.x+=p.vx;
p.y+=p.vy;
p.life--;
ctx.fillStyle=p.color;
ctx.fillRect(p.x,p.y,3,3);
if(p.life<=0)particles.splice(i,1);
});

/* UI */
document.getElementById("score").innerText=score;
document.getElementById("hearts").innerText=hearts;
document.getElementById("level").innerText=level;

if(hearts<=0)endGame();

requestAnimationFrame(loop);
}

function endGame(){
state="over";
clearInterval(melodyInterval);
updateLeaderboard();
document.getElementById("gameOver").style.display="flex";
}
</script>

</body>
</html>

