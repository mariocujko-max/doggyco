<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Doggyco 5.0 ‚Äì Neon Glow</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
:root{
--neon:#00fff7;
--pink:#ff00c8;
--green:#00ff88;
--red:#ff2e63;
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
background:#000;
color:white;
font-family:sans-serif;
overflow:hidden;
}

body.gameover{
overflow:auto;
}

h1{
text-align:center;
font-family:'Press Start 2P';
color:var(--neon);
text-shadow:0 0 15px var(--neon);
margin:15px 0;
}

#gameWrapper{
position:relative;
width:100%;
max-width:420px;
height:70vh;
margin:auto;
border-radius:30px;
overflow:hidden;
border:3px solid var(--neon);
box-shadow:0 0 30px var(--neon);
}

canvas{width:100%;height:100%;display:block;}

#ui{
position:absolute;
top:10px;left:10px;right:10px;
display:flex;
justify-content:space-between;
font-family:'Press Start 2P';
font-size:0.6rem;
z-index:10;
text-shadow:0 0 10px white;
}

.overlay{
position:absolute;
inset:0;
background:rgba(0,0,0,0.9);
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
z-index:20;
}

button{
padding:20px 40px;
font-family:'Press Start 2P';
background:var(--green);
border:none;
border-radius:20px;
cursor:pointer;
}

.bubble{
position:absolute;
font-family:'Press Start 2P';
font-size:0.8rem;
pointer-events:none;
animation:floatUp 1s forwards;
}

@keyframes floatUp{
0%{opacity:1;transform:translateY(0);}
100%{opacity:0;transform:translateY(-50px);}
}
</style>
</head>
<body>

<h1>DOGGYCO 5.0</h1>

<div id="gameWrapper">
<div id="ui">
<div>‚≠ê <span id="score">0</span></div>
<div>‚ù§Ô∏è <span id="life">100</span>%</div>
<div>üèÜ <span id="high">0</span></div>
</div>

<canvas id="game"></canvas>

<div class="overlay" id="start">
<button onclick="startGame()">START</button>
</div>

<div class="overlay" id="gameOver" style="display:none;">
<h2 style="color:var(--red);font-family:'Press Start 2P';margin-bottom:20px;">GAME OVER</h2>
<button onclick="location.reload()">RETRY</button>
</div>
</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

let state="start";
let score=0;
let life=100;
let high=localStorage.getItem("doggyHigh")||0;
document.getElementById("high").innerText=high;

let items=[],spiders=[];
let dog={x:200};
let audioCtx,bgOsc;

function resize(){
const rect=canvas.getBoundingClientRect();
canvas.width=rect.width;
canvas.height=rect.height;
}
window.addEventListener("resize",resize);

function bubble(text,x,y,color){
const b=document.createElement("div");
b.className="bubble";
b.style.left=x+"px";
b.style.top=y+"px";
b.style.color=color;
b.innerText=text;
document.getElementById("gameWrapper").appendChild(b);
setTimeout(()=>b.remove(),1000);
}

function startMusic(){
bgOsc=audioCtx.createOscillator();
let g=audioCtx.createGain();
bgOsc.type="sawtooth";
bgOsc.frequency.value=120;
g.gain.value=0.02;
bgOsc.connect(g);
g.connect(audioCtx.destination);
bgOsc.start();
}

function startGame(){
audioCtx=new (window.AudioContext||window.webkitAudioContext)();
startMusic();
state="play";
document.getElementById("start").style.display="none";
resize();
initSpiders();
loop();
}

function initSpiders(){
for(let i=0;i<2;i++){
spiders.push({x:Math.random()*0.8+0.1,t:Math.random()*3});
}
}

canvas.addEventListener("touchmove",e=>{
let rect=canvas.getBoundingClientRect();
dog.x=e.touches[0].clientX-rect.left;
});

canvas.addEventListener("mousemove",e=>{
dog.x=e.offsetX;
});

function loop(){
if(state!=="play")return;

const W=canvas.width;
const H=canvas.height;
const ground=H-70;

ctx.clearRect(0,0,W,H);

/* Neon Himmel */
let grad=ctx.createLinearGradient(0,0,0,H);
grad.addColorStop(0,"#001");
grad.addColorStop(1,"#020024");
ctx.fillStyle=grad;
ctx.fillRect(0,0,W,H);

/* Sonne Glow */
ctx.shadowBlur=30;
ctx.shadowColor="yellow";
ctx.fillStyle="yellow";
ctx.beginPath();
ctx.arc(W-60,60,40+Math.sin(Date.now()*0.002)*5,0,7);
ctx.fill();
ctx.shadowBlur=0;

/* Boden Neon */
ctx.fillStyle="#111";
ctx.fillRect(0,ground,W,70);
ctx.strokeStyle="#0ff";
ctx.strokeRect(0,ground,W,70);

/* Items */
if(Math.random()<0.04){
let r=Math.random();
let it={x:Math.random()*W,y:-20,speed:3};
if(r<0.1){it.bad=true;it.type="üëÆ";}
else if(r<0.4){it.val=3;it.type="üçó";}
else if(r<0.7){it.val=2;it.type="üç™";}
else{it.val=1;it.type="ü¶¥";}
items.push(it);
}

items.forEach((it,i)=>{
it.y+=it.speed;
ctx.font="40px Arial";
ctx.fillText(it.type,it.x,it.y);

if(it.y>ground-30&&Math.abs(it.x-dog.x)<40){
if(it.bad){
life-=10;
bubble("-10%",it.x,it.y,"red");
}else{
score+=it.val;
bubble("+"+it.val,it.x,it.y,"#0f0");
}
items.splice(i,1);
}
});

/* Spinnen */
spiders.forEach(s=>{
s.t+=0.02;
let sx=s.x*W;
let sy=(Math.sin(s.t)+1)/2*ground;
ctx.strokeStyle="white";
ctx.beginPath();
ctx.moveTo(sx,0);
ctx.lineTo(sx,sy);
ctx.stroke();
ctx.font="35px Arial";
ctx.fillText("üï∑Ô∏è",sx-15,sy+10);

if(Math.abs(sx-dog.x)<40&&Math.abs(sy-ground)<40){
life-=10;
bubble("-10%",sx,sy,"red");
s.x=Math.random()*0.8+0.1;
}
});

/* Hund */
ctx.font="80px Arial";
ctx.fillText("üê∂",dog.x-40,ground);

document.getElementById("score").innerText=score;
document.getElementById("life").innerText=life;

if(life<=0){
endGame();
}

requestAnimationFrame(loop);
}

function endGame(){
state="over";
document.body.classList.add("gameover");
document.getElementById("gameOver").style.display="flex";
if(score>high){
localStorage.setItem("doggyHigh",score);
}
}
</script>
</body>
</html>
