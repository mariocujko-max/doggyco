<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Doggyco 9.0 ‚Äì Scenic Neon</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
background:#111;
overflow:hidden;
font-family:sans-serif;
}
h1{
text-align:center;
font-family:'Press Start 2P';
font-size:0.9rem;
color:#00f7ff;
margin:10px 0;
}
#gameWrap{
position:relative;
width:100%;
max-width:420px;
height:85vh;
margin:auto;
border-radius:25px;
overflow:hidden;
box-shadow:0 0 40px rgba(0,255,255,0.4);
}
canvas{width:100%;height:100%;display:block;}
#ui{
position:absolute;
top:8px;left:0;right:0;
display:flex;
justify-content:space-around;
font-family:'Press Start 2P';
font-size:0.7rem;
z-index:10;
color:white;
text-shadow:0 0 8px white;
}
.overlay{
position:absolute;
inset:0;
background:rgba(0,0,0,0.85);
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
z-index:20;
transition:opacity 0.8s;
}
button{
padding:18px 35px;
border:none;
border-radius:20px;
background:#00ff88;
font-family:'Press Start 2P';
cursor:pointer;
}
</style>
</head>
<body>

<h1>DOGGYCO 9.0</h1>

<div id="gameWrap">
<div id="ui">
<div>‚≠ê <span id="score">0</span></div>
<div>‚ù§Ô∏è <span id="hearts">3</span></div>
<div>LEVEL <span id="lvl">1</span></div>
<div>ENERGIE <span id="energy">100</span>%</div>
</div>

<canvas id="game"></canvas>

<div class="overlay" id="start">
<button onclick="startGame()">START</button>
</div>

</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");

let W,H,lanes=6,laneW;
let dogLane=3,dogX=0,targetX=0;
let items=[],spiders=[],bubbles=[];
let score=0,level=1,hearts=3,energy=100;
let state="start";
let audioCtx;

/* Resize */
function resize(){
const r=canvas.getBoundingClientRect();
canvas.width=r.width;
canvas.height=r.height;
W=canvas.width; H=canvas.height;
laneW=W/lanes;
dogX=laneW*dogLane+laneW/2;
}
window.addEventListener("resize",resize);

/* Sound */
function tone(freq){
let o=audioCtx.createOscillator();
let g=audioCtx.createGain();
o.frequency.value=freq;
o.type="sine";
g.gain.value=0.08;
o.connect(g); g.connect(audioCtx.destination);
o.start();
o.stop(audioCtx.currentTime+0.15);
}

/* Start */
function startGame(){
audioCtx=new (window.AudioContext||window.webkitAudioContext)();
resize();
initSpiders();
state="play";
document.getElementById("start").style.opacity=0;
setTimeout(()=>document.getElementById("start").style.display="none",800);
loop();
}

/* Controls */
canvas.addEventListener("touchstart",e=>{
let rect=canvas.getBoundingClientRect();
let x=e.touches[0].clientX-rect.left;
dogLane=Math.floor(x/laneW);
});
canvas.addEventListener("mousedown",e=>{
dogLane=Math.floor(e.offsetX/laneW);
});

/* Spiders */
function initSpiders(){
for(let i=0;i<2;i++){
spiders.push({x:Math.random()*0.8+0.1,t:Math.random()*3});
}
}

/* Spawn */
function spawn(){
let lane=Math.floor(Math.random()*lanes);
let r=Math.random();
let it={lane:lane,y:-40};
if(r<0.1){it.type="üëÆ";it.bad=true;}
else if(r<0.4){it.type="üçñ";it.val=3;}
else if(r<0.7){it.type="üç™";it.val=2;}
else{it.type="ü¶¥";it.val=1;}
items.push(it);
}

/* Bubble */
function addBubble(x,y,text,color){
bubbles.push({x,y,text,life:60,color});
}

/* Draw Landscape */
function drawBackground(){
let grad=ctx.createLinearGradient(0,0,0,H);
grad.addColorStop(0,"#6ec6ff");
grad.addColorStop(1,"#b3e5fc");
ctx.fillStyle=grad;
ctx.fillRect(0,0,W,H);

ctx.fillStyle="#4caf50";
ctx.beginPath();
ctx.arc(W/2,H-120,300,Math.PI,0);
ctx.fill();

ctx.fillStyle="#444";
ctx.fillRect(0,H-100,W,100);

for(let i=0;i<4;i++){
ctx.fillStyle="#2e7d32";
ctx.fillRect(i*100+40,H-160,20,60);
ctx.beginPath();
ctx.arc(i*100+50,H-160,40,0,7);
ctx.fill();
}
}

/* Loop */
function loop(){
if(state!=="play")return;

ctx.clearRect(0,0,W,H);
drawBackground();

/* Spawn */
if(Math.random()<0.025+level*0.003)spawn();

/* Items */
items.forEach((it,i)=>{
it.y+=2+level*0.3;
let x=it.lane*laneW+laneW/2;
ctx.font="40px Arial";
ctx.fillText(it.type,x-20,it.y);

if(it.y>H-120 && it.lane===dogLane){
if(it.bad){
hearts--;
tone(120);
}else{
let pts=it.val*level;
score+=pts;
tone(400+pts*40);
addBubble(x,it.y,"+"+pts,"green");
}
items.splice(i,1);
}
});

/* Spiders */
spiders.forEach(s=>{
s.t+=0.02+level*0.002;
let sx=s.x*W;
let sy=(Math.sin(s.t)+1)/2*(H-120);
ctx.strokeStyle="#222";
ctx.beginPath();
ctx.moveTo(sx,0);
ctx.lineTo(sx,sy);
ctx.stroke();
ctx.fillText("üï∑Ô∏è",sx-15,sy+10);

if(Math.abs(sx-dogX)<40 && Math.abs(sy-(H-120))<40){
energy-=20;
addBubble(sx,sy,"-20%","red");
tone(90);
}
});

/* Dog smooth */
targetX=dogLane*laneW+laneW/2;
dogX+= (targetX-dogX)*0.12;
ctx.font="70px Arial";
ctx.fillText("üê∂",dogX-35,H-120);

/* Bubbles */
bubbles.forEach((b,i)=>{
b.y-=1;
b.life--;
ctx.fillStyle=b.color;
ctx.font="18px Arial";
ctx.fillText(b.text,b.x-20,b.y);
if(b.life<=0)bubbles.splice(i,1);
});

/* UI */
document.getElementById("score").innerText=score;
document.getElementById("hearts").innerText="‚ù§Ô∏è".repeat(hearts);
document.getElementById("lvl").innerText=level;
document.getElementById("energy").innerText=energy;

if(energy<=0){
hearts--;
energy=100;
}

if(hearts<=0){
state="over";
alert("Game Over");
}

requestAnimationFrame(loop);
}
</script>

</body>
</html>
