<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Doggyco 2.2 ‚Äì Cute Arcade</title>

<style>
:root{
--sky1:#89cff0;
--sky2:#cdefff;
--road:#444;
--grass:#6cc24a;
--accent:#ff9ecf;
}

*{margin:0;padding:0;box-sizing:border-box;}

body{
overflow:hidden;
font-family:Segoe UI,sans-serif;
background:linear-gradient(var(--sky1),var(--sky2));
display:flex;
flex-direction:column;
align-items:center;
touch-action:none;
}

header{
padding:10px;
text-align:center;
color:#333;
font-weight:bold;
}

#gameWrapper{
position:relative;
width:400px;
height:600px;
overflow:hidden;
background:linear-gradient(var(--sky1),var(--sky2));
border-radius:15px;
box-shadow:0 10px 30px rgba(0,0,0,0.3);
}

canvas{
display:block;
}

#controlBar{
position:absolute;
bottom:0;
width:100%;
height:70px;
background:#222;
}

#slider{
position:absolute;
bottom:20px;
left:50%;
transform:translateX(-50%);
width:80%;
}

.overlay{
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.85);
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
color:white;
text-align:center;
padding:20px;
}

button{
padding:10px 20px;
border:none;
border-radius:20px;
background:linear-gradient(45deg,#ff9ecf,#ffd166);
font-weight:bold;
margin-top:10px;
cursor:pointer;
}
</style>
</head>
<body>

<header>üê∂ Doggyco 2.2</header>

<div id="gameWrapper">

<canvas id="game" width="400" height="600"></canvas>

<div id="controlBar">
<input type="range" id="slider" min="0" max="360">
</div>

<div class="overlay" id="startScreen">
<h2>Start Game</h2>
<input id="playerName" placeholder="Dein Name">
<button onclick="startGame()">Play</button>
</div>

<div class="overlay" id="gameOver" style="display:none;">
<h2>Game Over</h2>
<p id="finalScore"></p>
<button onclick="restart()">Restart</button>
</div>

</div>

<script>
const canvas=document.getElementById("game");
const ctx=canvas.getContext("2d");
const slider=document.getElementById("slider");

let state="start";
let score,lives,items,dog,particles,clouds,speed;

function init(){
score=0;
lives=3;
speed=2;
items=[];
particles=[];
clouds=[{x:50,y:80},{x:200,y:120},{x:320,y:60}];
dog={x:180,y:500};
}

slider.addEventListener("input",e=>{
dog.x=parseInt(e.target.value);
});

function startGame(){
const name=document.getElementById("playerName").value.trim();
if(!name) return alert("Bitte Namen eingeben üê∂");
init();
state="play";
document.getElementById("startScreen").style.display="none";
loop();
}

function restart(){
document.getElementById("gameOver").style.display="none";
document.getElementById("startScreen").style.display="flex";
state="start";
}

function spawn(){
let rand=Math.random();
items.push({
x:Math.random()*360,
y:-30,
type:rand<0.2?"üëÆ":"ü¶¥",
danger:rand<0.2
});
}

function drawBackground(){
ctx.fillStyle="#6cc24a";
ctx.fillRect(0,550,400,50);

ctx.fillStyle="#444";
ctx.fillRect(0,570,400,30);

ctx.fillStyle="white";
clouds.forEach(c=>{
ctx.beginPath();
ctx.arc(c.x,c.y,20,0,Math.PI*2);
ctx.arc(c.x+20,c.y,25,0,Math.PI*2);
ctx.arc(c.x+40,c.y,20,0,Math.PI*2);
ctx.fill();
});
}

function loop(){
if(state!=="play")return;

ctx.clearRect(0,0,400,600);

drawBackground();

clouds.forEach(c=>{
c.x+=0.3;
if(c.x>450)c.x=-50;
});

if(Math.random()<0.03)spawn();

ctx.font="40px Arial";
ctx.fillText("üê∂",dog.x,500);

items.forEach((item,i)=>{
item.y+=speed;
ctx.fillText(item.type,item.x,item.y);

if(item.y>480 && item.y<520 && item.x>dog.x-20 && item.x<dog.x+40){
if(item.danger){
lives--;
if(lives<=0)endGame();
}else{
score++;
createParticles(item.x,item.y);
playSound();
}
items.splice(i,1);
}

if(item.y>600)items.splice(i,1);
});

particles.forEach((p,i)=>{
p.y-=2;
p.life--;
ctx.fillStyle="yellow";
ctx.fillRect(p.x,p.y,4,4);
if(p.life<=0)particles.splice(i,1);
});

ctx.fillStyle="black";
ctx.fillText("Score: "+score,10,30);
ctx.fillText("‚ù§Ô∏è "+lives,300,30);

requestAnimationFrame(loop);
}

function createParticles(x,y){
for(let i=0;i<10;i++){
particles.push({x:x,y:y,life:20});
}
}

function playSound(){
const audio=new AudioContext();
const osc=audio.createOscillator();
osc.type="square";
osc.frequency.value=600;
osc.connect(audio.destination);
osc.start();
osc.stop(audio.currentTime+0.1);
}

function endGame(){
state="over";
document.getElementById("finalScore").innerText="Score: "+score;
document.getElementById("gameOver").style.display="flex";
}
</script>

</body>
</html>
